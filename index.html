<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <link rel="manifest" href="/manifest.json" />
    <meta name="theme-color" content="#4F46E5" />
    <title>TaxFlow - Gestão Tributária</title>
  </head>
  <body>
    <div id="root">
      <div style="display: flex; justify-content: center; align-items: center; height: 100vh; font-family: sans-serif; color: #6366f1; background: #F8FAFC;">
        <div style="text-align: center; padding: 20px;">
          <div id="spinner" style="width: 40px; height: 40px; border: 4px solid #e0e7ff; border-top: 4px solid #6366f1; border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 16px;"></div>
          <p id="loading-text" style="font-weight: 600; margin: 0;">TaxFlow</p>
          <p id="debug-info" style="font-size: 11px; color: #94a3b8; margin-top: 10px; background: #f1f5f9; padding: 8px; border-radius: 4px; min-width: 200px;">Iniciando sistema...</p>
        </div>
      </div>
      <script>
        // Captura erros antes mesmo do React carregar
        window.onerror = function(msg, url, line, col, error) {
          var debug = document.getElementById('debug-info');
          if (debug) {
            debug.style.color = '#ef4444';
            debug.style.background = '#fef2f2';
            debug.innerHTML = '<b>Erro:</b> ' + msg + '<br><small>Linha: ' + line + '</small>';
          }
          return false;
        };

        document.addEventListener('DOMContentLoaded', function() {
          document.getElementById('debug-info').innerHTML = 'Módulos carregados, iniciando interface...';
        });

        // Função para esconder a tela de carregamento
        window.hideLoadingScreen = function() {
          var root = document.getElementById('root');
          // Remove o conteúdo de carregamento mas mantém a div root
          root.innerHTML = ''; 
          console.log('Interface React assumiu o controle');
        };
      </script>
      <style>
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
      </style>
    </div>
    <script type="module" src="./src/main.tsx"></script>
  </body>
</html>

